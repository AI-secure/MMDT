# Privacy Perspective

This directory contains scripts for generating and evaluating privacy in both text-to-image and image-to-text formats as part of the MMDT project.

Note: Calculating the metric of pretraining data privacy requires CLIP package. Install: 
`pip install git+https://github.com/openai/CLIP.git`

## Directory Structure

- `generate_image_to_text.py`: Script to generate text descriptions from images.
- `generate_text_to_image.py`: Script to generate images from text prompts.
- `eval_image_to_text.py`: Script to evaluate the generated text descriptions.
- `eval_text_to_image.py`: Script to evaluate the generated images.
- `utils.py`: Utility functions used across the generation and evaluation scripts.

## Usage

### Generating Results

To generate results, you need to specify the model, scenario, and task you want to execute. Here are the command-line arguments you need to provide:

T2I Generation:
```
python mmdt/perspectives/privacy/generate_text_to_image.py --model_id {model_id} --task "laion_1k"
```


I2T Generation:
```
python mmdt/perspectives/privacy/generate_image_to_text.py --model_id {model_id} --scenario {scenario} --task {task}
```


- `--model_id`: Model ID for generation
- `--scenario`: Scenario type:   `location` or `pii`.
- `--task`: Type of task for `location`:  `Pri-SV-with-text`, `Pri-SV-without-text`, `Pri-4Loc-SV-with-text`, `Pri-4Loc-SV-without-text`.


### Evaluating Results

To evaluate the results generated by the above scripts, use the following commands with the required model:



I2T Evaluation:
```
python mmdt/perspectives/privacy/eval_image_to_text.py --model_id <model_id> --scenario <scenario> --task <task>
```

- `--model_id`: Model ID whose results are to be evaluated (required).
- `--scenario`: Scenario type: `location` or `pii`.
- `--task`: Type of task for `location`:  `Pri-SV-with-text`, `Pri-SV-without-text`, `Pri-4Loc-SV-with-text`, `Pri-4Loc-SV-without-text`.



T2I Evaluation
```
python mmdt/perspectives/privacy/eval_text_to_image.py --model_id <model_id>  --task "laion_1k"
```

